"use strict";var cityInput=document.querySelector(".city"),checkWeatherBtn=document.querySelector(".check-weather"),weatherSection=document.querySelector(".weather-info-section"),backBtn=document.querySelector(".back"),city=document.querySelector(".your-city"),country=document.querySelector(".your-country"),date=document.querySelector(".date"),temperature=document.querySelector(".temperature .current"),nextDays=document.querySelectorAll(".next-days .day"),pressure=document.querySelector(".pressure .current"),perceptible=document.querySelector(".perceptible .current"),humidity=document.querySelector(".humidity .current"),wind=document.querySelector(".wind .current"),clouds=document.querySelector(".clouds .current"),visibility=document.querySelector(".visibility .current"),today=new Date,monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames=["Sun","Mon","Tue","Wednes","Thurs","Fri","Sat"],todayDate="".concat(dayNames[today.getDay()],", ").concat(today.getDate()," ").concat(monthNames[today.getMonth()]),API_KEY=(date.textContent=todayDate,"e8ee48ec429851f4d1460f31c8695c03"),downloadWeather=function(){var e=cityInput.value,t=(city.textContent=e,"https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&lang=en&units=metric&appid=").concat(API_KEY)),e="https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&lang=en&units=metric&appid=").concat(API_KEY);fetch(e).then(function(e){return e.json()}).then(function(e){var t=e.main.temp,n=e.main.pressure,o=e.main.feels_like,c=e.main.humidity,a=e.wind.speed,r=e.clouds.all,i=e.visibility,e=new Intl.DisplayNames(["en"],{type:"region"}).of(e.sys.country);country.textContent=e,temperature.textContent=Math.round(t),pressure.textContent=n,perceptible.textContent=o,humidity.textContent=c,wind.textContent=a,clouds.textContent=r,visibility.textContent=i}),fetch(t).then(function(e){return e.json()}).then(function(e){for(var t=3,n=1;n<=4;n++){var o=e.list[t],c=new Date(o.dt_txt),a=o.main.temp,r=nextDays[n-1],o=o.weather[0].id,o=(200<o&&o<300?r.querySelector(".weather-icon").classList.add("fa-cloud-bolt"):300<=o&&o<500?r.querySelector(".weather-icon").classList.add("fa-cloud-drizzle"):500<=o&&o<600?r.querySelector(".weather-icon").classList.add("fa-cloud-showers-heavy"):600<=o&&o<700?r.querySelector(".weather-icon").classList.add("fa-snowflake"):700<=o&&o<800?r.querySelector(".weather-icon").classList.add("fa-cloud-fog"):800<=o&&r.querySelector(".weather-icon").classList.add("fa-sun"),c.getMonth()+1<10?"0".concat(c.getMonth()+1):c.getMonth()+1);r.querySelector(".weather-date").textContent="".concat(c.getDate(),".").concat(o),r.querySelector(".day-temperature").textContent="".concat(a.toFixed(0),"Â°C"),t+=3}}),setTimeout(function(){weatherSection.style.display="block"},100)};function getUserLocation(e){var t=e.coords.latitude,e=e.coords.longitude;fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(t,"&longitude=").concat(e,"&localityLanguage=en")).then(function(e){e.json().then(function(e){""===e.city?cityInput.value=e.locality:cityInput.value=e.city})}).catch(function(e){console.log(e)})}checkWeatherBtn.addEventListener("click",downloadWeather),backBtn.addEventListener("click",function(){weatherSection.style.display="none"}),addEventListener("keydown",function(e){"Enter"===e.key&&downloadWeather()}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(getUserLocation);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJjaXR5SW5wdXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjaGVja1dlYXRoZXJCdG4iLCJ3ZWF0aGVyU2VjdGlvbiIsImJhY2tCdG4iLCJjaXR5IiwiZGF0ZSIsInRlbXBlcmF0dXJlIiwicHJlc3N1cmUiLCJodW1pZGl0eSIsIndpbmQiLCJjbG91ZHMiLCJ2aXNpYmlsaXR5IiwidG9kYXkiLCJtb250aE5hbWVzIiwidG9kYXlEYXRlIiwiRGF0ZSIsInRleHRDb250ZW50IiwiZmV0Y2giLCJkYXlOYW1lcyIsImN1cnJlbnRIdW1pZGl0eSIsIm1haW4iLCJjdXJyZW50Q2xvdWRzIiwiYWxsIiwiZ2V0RGF0ZSIsImN1cnJlbnRWaXNpYmlsaXR5IiwiY291bnRyeSIsInBlcmNlcHRpYmxlIiwidmFsdWUiLCJjb25jYXQiLCJ5b3VyQ2l0eSIsIkFQSV9LRVkiLCJjdXJyZW50V2VhdGhlciIsInRoZW4iLCJyZXMiLCJqc29uIiwiY3VycmVudFRlbXBlcmF0dXJlIiwiZGF0YSIsInRlbXAiLCJjdXJyZW50UHJlc3N1cmUiLCJjdXJyZW50UGVyY2VwdGlibGUiLCJmZWVsc19saWtlIiwibGlzdCIsImN1cnJlbnRXaW5kIiwibmV4dERheSIsIm5leHREYXlUZW1wZXJhdHVyZSIsIm5leHREYXlzIiwibmV4dERheUNvbnRhaW5lciIsIndlYXRoZXIiLCJ0eXBlIiwib2YiLCJzeXMiLCJ3ZWF0aGVySWQiLCJNYXRoIiwicm91bmQiLCJuZXh0RGF5c1dlYXRoZXIiLCJtb250aCIsIm5leHREYXlEYXRlIiwiaiIsImkiLCJkdF90eHQiLCJzZXRUaW1lb3V0IiwiZGlzcGxheSIsImlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0eWxlIiwiZG93bmxvYWRXZWF0aGVyIiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJnZXRVc2VyTG9jYXRpb24iLCJjbGFzc0xpc3QiLCJjb29yZHMiLCJsYXRpdHVkZSIsInJlc3VsdCIsImFkZCIsImNvbnNvbGUiLCJlcnIiLCJnZXRNb250aCIsInRvRml4ZWQiLCJwb3NpdGlvbiIsImxvbmdpdHVkZSIsImxvY2FsaXR5IiwibG9nIiwiZSIsImtleSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsVUFBWUMsU0FBU0MsY0FBYyxTQUNuQ0MsZ0JBQWtCRixTQUFTQyxjQUFjLGtCQUF6Q0MsZUFBa0JGLFNBQVNDLGNBQWMseUJBRXpDRSxRQUFBQSxTQUFpQkgsY0FBU0MsU0FDMUJHLEtBQU9KLFNBQVdDLGNBQVIsY0FDVkksUUFBT0wsU0FBU0MsY0FBYyxpQkFHOUJLLEtBQU9OLFNBQVNDLGNBQWMsU0FDOUJNLFlBQWNQLFNBQVNDLGNBQWMseUJBSXJDTyxTQUFXUixTQUFTQyxpQkFBYyxtQkFFbENRLFNBQVdULFNBQVNDLGNBQWMsc0JBQ2xDUyxZQUFnQlQsU0FBQUEsY0FBYyx5QkFDOUJVLFNBQVNYLFNBQVNDLGNBQWMsc0JBQ2hDVyxLQUFBQSxTQUFhWixjQUFTQyxrQkFFdEJZLE9BQVFiLFNBQWRDLGNBQUEsb0JBQ01hLFdBQ0xkLFNBRGtCQyxjQUdsQix3QkFhS2MsTUFBUyxJQUFBQyxLQUlWQyxXQUFjRixDQUVuQixVQXBCQyxXQXNCRCxRQUNDLFFBQ0FWLE1BRUEsT0FDQSxPQUVBYSxTQUNVLFlBQUEsVUFFUixXQUNBLFlBRUFDLFNBQU1DLENBQUFBLE1BQWUsTUFBUUMsTUFBS1osU0FBbEMsUUFBQSxNQUFBLE9BRUFNLFVBQU1PLEdBQUFBLE9BQWFILFNBQVFSLE1BQU9ZLFVBQTVCRCxNQUFBQSxPQUFOVCxNQUFBVyxVQUFNRixLQUFBQSxPQUNOUixXQUFNVyxNQUFBQSxhQUtOQyxTQUprRHBCLEtBQTlCVyxZQUFwQkYsVUFJUUUsb0NBR1JULGdCQUFBLFdBQ0FtQixJQUFBQSxFQUFZVixVQUFaVyxNQUdBakIsR0FGQUYsS0FBQUEsWUFBU1EsRUFFVCxzREFBQVksT0FBQUMsRUFBQSxnQ0FBQUQsT0FBQUUsVUFDQW5CLEVBQVdLLHFEQUFBQSxPQUFY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UUFBUTRELGlCQUFpQixRQUFTLFdBQ2pDN0QsZUFBZThELE1BQU1ILFFBQVUsU0FHaENFLGlCQUFpQixVQUFXLFNBQUFvQixHQUNiLFVBQVZBLEVBQUVDLEtBQ0xuQixvQkFJRUMsVUFBVUMsYUFDYkQsVUFBVUMsWUFBWUMsbUJBQW1CQyIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2l0eUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpdHknKTtcclxuY29uc3QgY2hlY2tXZWF0aGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoZWNrLXdlYXRoZXInKTtcclxuXHJcbmNvbnN0IHdlYXRoZXJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItaW5mby1zZWN0aW9uJyk7XHJcbmNvbnN0IGJhY2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFjaycpO1xyXG5jb25zdCBjaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnlvdXItY2l0eScpO1xyXG5jb25zdCBjb3VudHJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnlvdXItY291bnRyeScpO1xyXG5cclxuY29uc3QgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRlJyk7XHJcbmNvbnN0IHRlbXBlcmF0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlIC5jdXJyZW50Jyk7XHJcblxyXG5jb25zdCBuZXh0RGF5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXh0LWRheXMgLmRheScpO1xyXG5cclxuY29uc3QgcHJlc3N1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJlc3N1cmUgLmN1cnJlbnQnKTtcclxuY29uc3QgcGVyY2VwdGlibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGVyY2VwdGlibGUgLmN1cnJlbnQnKTtcclxuY29uc3QgaHVtaWRpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaHVtaWRpdHkgLmN1cnJlbnQnKTtcclxuY29uc3Qgd2luZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kIC5jdXJyZW50Jyk7XHJcbmNvbnN0IGNsb3VkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG91ZHMgLmN1cnJlbnQnKTtcclxuY29uc3QgdmlzaWJpbGl0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aXNpYmlsaXR5IC5jdXJyZW50Jyk7XHJcblxyXG5jb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbmNvbnN0IG1vbnRoTmFtZXMgPSBbXHJcblx0J0phbnVhcnknLFxyXG5cdCdGZWJydWFyeScsXHJcblx0J01hcmNoJyxcclxuXHQnQXByaWwnLFxyXG5cdCdNYXknLFxyXG5cdCdKdW5lJyxcclxuXHQnSnVseScsXHJcblx0J0F1Z3VzdCcsXHJcblx0J1NlcHRlbWJlcicsXHJcblx0J09jdG9iZXInLFxyXG5cdCdOb3ZlbWJlcicsXHJcblx0J0RlY2VtYmVyJyxcclxuXTtcclxuY29uc3QgZGF5TmFtZXMgPSBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZG5lcycsICdUaHVycycsICdGcmknLCAnU2F0J107XHJcblxyXG5jb25zdCB0b2RheURhdGUgPSBgJHtkYXlOYW1lc1t0b2RheS5nZXREYXkoKV19LCAke3RvZGF5LmdldERhdGUoKX0gJHtcclxuXHRtb250aE5hbWVzW3RvZGF5LmdldE1vbnRoKCldXHJcbn1gO1xyXG5cclxuZGF0ZS50ZXh0Q29udGVudCA9IHRvZGF5RGF0ZTtcclxuXHJcbmNvbnN0IEFQSV9LRVkgPSAnZThlZTQ4ZWM0Mjk4NTFmNGQxNDYwZjMxYzg2OTVjMDMnO1xyXG5cclxuY29uc3QgZG93bmxvYWRXZWF0aGVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IHlvdXJDaXR5ID0gY2l0eUlucHV0LnZhbHVlO1xyXG5cdGNpdHkudGV4dENvbnRlbnQgPSB5b3VyQ2l0eTtcclxuXHJcblx0Y29uc3QgbmV4dERheXNXZWF0aGVyID0gYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9mb3JlY2FzdD9xPSR7eW91ckNpdHl9Jmxhbmc9ZW4mdW5pdHM9bWV0cmljJmFwcGlkPSR7QVBJX0tFWX1gO1xyXG5cdGNvbnN0IGN1cnJlbnRXZWF0aGVyID0gYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHt5b3VyQ2l0eX0mbGFuZz1lbiZ1bml0cz1tZXRyaWMmYXBwaWQ9JHtBUElfS0VZfWA7XHJcblxyXG5cdGZldGNoKGN1cnJlbnRXZWF0aGVyKVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0Y29uc3QgY3VycmVudFRlbXBlcmF0dXJlID0gZGF0YS5tYWluLnRlbXA7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRQcmVzc3VyZSA9IGRhdGEubWFpbi5wcmVzc3VyZTtcclxuXHRcdFx0Y29uc3QgY3VycmVudFBlcmNlcHRpYmxlID0gZGF0YS5tYWluLmZlZWxzX2xpa2U7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRIdW1pZGl0eSA9IGRhdGEubWFpbi5odW1pZGl0eTtcclxuXHRcdFx0Y29uc3QgY3VycmVudFdpbmQgPSBkYXRhLndpbmQuc3BlZWQ7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRDbG91ZHMgPSBkYXRhLmNsb3Vkcy5hbGw7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRWaXNpYmlsaXR5ID0gZGF0YS52aXNpYmlsaXR5O1xyXG5cdFx0XHRjb25zdCByZWdpb25OYW1lcyA9IG5ldyBJbnRsLkRpc3BsYXlOYW1lcyhbJ2VuJ10sIHtcclxuXHRcdFx0XHR0eXBlOiAncmVnaW9uJyxcclxuXHRcdFx0fSk7XHJcblx0XHRcdGNvbnN0IGZ1bGxDb3VudHJ5TmFtZSA9IHJlZ2lvbk5hbWVzLm9mKGRhdGEuc3lzLmNvdW50cnkpO1xyXG5cdFx0XHRjb3VudHJ5LnRleHRDb250ZW50ID0gZnVsbENvdW50cnlOYW1lO1xyXG5cclxuXHRcdFx0dGVtcGVyYXR1cmUudGV4dENvbnRlbnQgPSBNYXRoLnJvdW5kKGN1cnJlbnRUZW1wZXJhdHVyZSk7XHJcblx0XHRcdHByZXNzdXJlLnRleHRDb250ZW50ID0gY3VycmVudFByZXNzdXJlO1xyXG5cdFx0XHRwZXJjZXB0aWJsZS50ZXh0Q29udGVudCA9IGN1cnJlbnRQZXJjZXB0aWJsZTtcclxuXHRcdFx0aHVtaWRpdHkudGV4dENvbnRlbnQgPSBjdXJyZW50SHVtaWRpdHk7XHJcblx0XHRcdHdpbmQudGV4dENvbnRlbnQgPSBjdXJyZW50V2luZDtcclxuXHRcdFx0Y2xvdWRzLnRleHRDb250ZW50ID0gY3VycmVudENsb3VkcztcclxuXHRcdFx0dmlzaWJpbGl0eS50ZXh0Q29udGVudCA9IGN1cnJlbnRWaXNpYmlsaXR5O1xyXG5cdFx0fSk7XHJcblxyXG5cdGZldGNoKG5leHREYXlzV2VhdGhlcilcclxuXHRcdC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG5cdFx0LnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdGxldCBqID0gMztcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPD0gNDsgaSsrKSB7XHJcblx0XHRcdFx0Y29uc3QgbmV4dERheSA9IGRhdGEubGlzdFtqXTtcclxuXHRcdFx0XHRjb25zdCBuZXh0RGF5RGF0ZSA9IG5ldyBEYXRlKG5leHREYXkuZHRfdHh0KTtcclxuXHRcdFx0XHRjb25zdCBuZXh0RGF5VGVtcGVyYXR1cmUgPSBuZXh0RGF5Lm1haW4udGVtcDtcclxuXHRcdFx0XHRjb25zdCBuZXh0RGF5Q29udGFpbmVyID0gbmV4dERheXNbaSAtIDFdO1xyXG5cdFx0XHRcdGNvbnN0IHdlYXRoZXJJZCA9IG5leHREYXkud2VhdGhlclswXS5pZDtcclxuXHJcblx0XHRcdFx0aWYgKHdlYXRoZXJJZCA+IDIwMCAmJiB3ZWF0aGVySWQgPCAzMDApIHtcclxuXHRcdFx0XHRcdG5leHREYXlDb250YWluZXJcclxuXHRcdFx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWljb24nKVxyXG5cdFx0XHRcdFx0XHQuY2xhc3NMaXN0LmFkZCgnZmEtY2xvdWQtYm9sdCcpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAod2VhdGhlcklkID49IDMwMCAmJiB3ZWF0aGVySWQgPCA1MDApIHtcclxuXHRcdFx0XHRcdG5leHREYXlDb250YWluZXJcclxuXHRcdFx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWljb24nKVxyXG5cdFx0XHRcdFx0XHQuY2xhc3NMaXN0LmFkZCgnZmEtY2xvdWQtZHJpenpsZScpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAod2VhdGhlcklkID49IDUwMCAmJiB3ZWF0aGVySWQgPCA2MDApIHtcclxuXHRcdFx0XHRcdG5leHREYXlDb250YWluZXJcclxuXHRcdFx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWljb24nKVxyXG5cdFx0XHRcdFx0XHQuY2xhc3NMaXN0LmFkZCgnZmEtY2xvdWQtc2hvd2Vycy1oZWF2eScpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAod2VhdGhlcklkID49IDYwMCAmJiB3ZWF0aGVySWQgPCA3MDApIHtcclxuXHRcdFx0XHRcdG5leHREYXlDb250YWluZXJcclxuXHRcdFx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWljb24nKVxyXG5cdFx0XHRcdFx0XHQuY2xhc3NMaXN0LmFkZCgnZmEtc25vd2ZsYWtlJyk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh3ZWF0aGVySWQgPj0gNzAwICYmIHdlYXRoZXJJZCA8IDgwMCkge1xyXG5cdFx0XHRcdFx0bmV4dERheUNvbnRhaW5lclxyXG5cdFx0XHRcdFx0XHQucXVlcnlTZWxlY3RvcignLndlYXRoZXItaWNvbicpXHJcblx0XHRcdFx0XHRcdC5jbGFzc0xpc3QuYWRkKCdmYS1jbG91ZC1mb2cnKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHdlYXRoZXJJZCA+PSA4MDApIHtcclxuXHRcdFx0XHRcdG5leHREYXlDb250YWluZXJcclxuXHRcdFx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWljb24nKVxyXG5cdFx0XHRcdFx0XHQuY2xhc3NMaXN0LmFkZCgnZmEtc3VuJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCBtb250aCA9XHJcblx0XHRcdFx0XHRuZXh0RGF5RGF0ZS5nZXRNb250aCgpICsgMSA8IDEwXHJcblx0XHRcdFx0XHRcdD8gYDAke25leHREYXlEYXRlLmdldE1vbnRoKCkgKyAxfWBcclxuXHRcdFx0XHRcdFx0OiBuZXh0RGF5RGF0ZS5nZXRNb250aCgpICsgMTtcclxuXHRcdFx0XHRuZXh0RGF5Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdFx0XHQnLndlYXRoZXItZGF0ZScsXHJcblx0XHRcdFx0KS50ZXh0Q29udGVudCA9IGAke25leHREYXlEYXRlLmdldERhdGUoKX0uJHttb250aH1gO1xyXG5cclxuXHRcdFx0XHRuZXh0RGF5Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdFx0XHQnLmRheS10ZW1wZXJhdHVyZScsXHJcblx0XHRcdFx0KS50ZXh0Q29udGVudCA9IGAke25leHREYXlUZW1wZXJhdHVyZS50b0ZpeGVkKDApfcKwQ2A7XHJcblx0XHRcdFx0aiArPSAzO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHdlYXRoZXJTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdH0sIDEwMCk7XHJcbn07XHJcblxyXG5jaGVja1dlYXRoZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkb3dubG9hZFdlYXRoZXIpO1xyXG5iYWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdHdlYXRoZXJTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn0pO1xyXG5cclxuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xyXG5cdGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xyXG5cdFx0ZG93bmxvYWRXZWF0aGVyKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHtcclxuXHRuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGdldFVzZXJMb2NhdGlvbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFVzZXJMb2NhdGlvbihwb3NpdGlvbikge1xyXG5cdGNvbnN0IGxhdGl0dWRlID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xyXG5cdGNvbnN0IGxvbmdpdHVkZSA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XHJcblxyXG5cdGZldGNoKFxyXG5cdFx0YGh0dHBzOi8vYXBpLmJpZ2RhdGFjbG91ZC5uZXQvZGF0YS9yZXZlcnNlLWdlb2NvZGUtY2xpZW50P2xhdGl0dWRlPSR7bGF0aXR1ZGV9JmxvbmdpdHVkZT0ke2xvbmdpdHVkZX0mbG9jYWxpdHlMYW5ndWFnZT1lbmAsXHJcblx0KVxyXG5cdFx0LnRoZW4ocmVzdWx0ID0+IHtcclxuXHRcdFx0cmVzdWx0Lmpzb24oKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdGlmIChkYXRhLmNpdHkgPT09ICcnKSB7XHJcblx0XHRcdFx0XHRjaXR5SW5wdXQudmFsdWUgPSBkYXRhLmxvY2FsaXR5O1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjaXR5SW5wdXQudmFsdWUgPSBkYXRhLmNpdHk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pXHJcblx0XHQuY2F0Y2goZXJyID0+IHtcclxuXHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdH0pO1xyXG59XHJcbiJdfQ==
